<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Failed</title>
    <!-- Tailwind CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
<div class="bg-white p-8 rounded-lg shadow-lg max-w-sm w-full">
    <h1 class="text-2xl font-bold text-red-600 mb-4">Failed!</h1>
    <p class="text-gray-700" th:text="${message}">Default message if Thymeleaf fails</p>
    <!-- Ensure the dial value is being correctly passed -->
    <p class="text-gray-700" id="dialValue" th:text="${dial}">Default dial value</p>

    <button type="button" id="createUserButton" class="bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600">Create User</button>
</div>
</body>
</html>

<script>
    document.getElementById('createUserButton').addEventListener('click', function() {
        // Get the dial value from the p tag
        var dial = document.getElementById('dialValue').textContent.trim();
        console.log("Dial value:", dial); // Debug line to check dial value
        if (dial) {
            // Construct the URL
            var url = 'http://localhost:8080/app/createNewUser?dial=' + encodeURIComponent(dial);
            // Redirect to the URL
            window.location.href = url;
        } else {
            console.log("Dial value is undefined or empty"); // Debug line if dial is not set
        }
    });
</script>
